# Deploy Microservices with CI/CD and Multi-Region DR on Amazon EKS

_Venkatesh Dhanapalraj_

---

## Introduction

This guide shows how we build, run, and protect our microservices on AWS:

1. **CI/CD** with GitHub, Jenkins & Terraform  
2. **Kubernetes** on EKS in two regions (Active/Passive)  
3. **Auto-failover** for AZ or region outages  
4. **Monitoring & Alerts** via Datadog and AWS CloudWatch â†’ EventBridge â†’ SNS  

---

## Architecture Diagram

<!-- Option 1: Local image file (recommended) -->
![CI/CD + Multi-Region DR on Amazon EKS](./images/High_Level_Arch.png)

<!-- Option 2: If using GitHub Pages or similar hosting -->
<!-- ![CI/CD + Multi-Region DR on Amazon EKS](https://raw.githubusercontent.com/Venkateshd279/eks-cluster-terraform/main/docs/images/eks-architecture-diagram.png) -->

<!-- Option 3: If you need to use Google Drive, convert to direct link -->
<!-- ![CI/CD + Multi-Region DR on Amazon EKS](https://drive.google.com/uc?export=view&id=1bq-YK6e4ZQu8nNMtEBJrH0FFcUUDmiyA) -->

<!-- Fallback: Link to view image if direct embedding doesn't work -->
**[ðŸ“Š View Architecture Diagram](https://drive.google.com/file/d/1bq-YK6e4ZQu8nNMtEBJrH0FFcUUDmiyA/view)**

---

## 1. CI/CD Pipeline

- **GitHub**: code & Terraform configs  
- **Jenkins**: build â†’ test â†’ deploy  
- **Terraform**: provisions VPC, EKS clusters, databases in both regions  

---

## 2. Kubernetes & Compute

- **Amazon EKS**: spans â‰¥2 AZs per region  
- **Auto Scaling Groups**: keeps enough worker nodes  
- **AWS Fargate**: serverless pods for bursts  

---

## 3. Networking & Traffic

- **VPC**: public + private subnets  
- **ALB & NLB**: balanced traffic at layer-7 and layer-4  
- **Route 53**: health-check DNS failover between regions  
- **CloudFront & S3**: global cache for static assets  

---

## 4. Data & Storage

- **RDS Multi-AZ**: primary + standby in each region  
- **Aurora Global DB**: cross-region read replicas  
- **DynamoDB Global Tables**: multi-region NoSQL  
- **S3**: durable object storage with cross-region replication  

---

## 5. Monitoring & Alerts

- **Datadog**: app logs & metrics across regions  
- **CloudWatch**: AWS infra metrics & logs  
- **EventBridge â†’ SNS**: routes alarms to email/SMS  

---

## 6. Security & Access

- **MFA & STS**: multi-factor and short-lived tokens  
- **IAM Access Analyzer**: detects wide permissions  
- **WAF & Shield**: blocks web attacks and DDoS  

---

## 7. Disaster Recovery

- **Active/Passive Regions**: primary serves traffic; secondary stands by  
- **Route 53 Failover**: automatic DNS switch on primary failure  
- **Immutable Infra**: Terraform code can rebuild anywhere  

---