# Deploy Microservices with CI/CD and Multi-Region DR on Amazon EKS

_Venkatesh Dhanapalraj_

---

## Introduction

This guide shows how we build, run, and protect our microservices on AWS:

1. **CI/CD** with GitHub, Jenkins & Terraform  
2. **Kubernetes** on EKS in two regions (Active/Passive)  
3. **Auto-failover** for AZ or region outages  
4. **Monitoring & Alerts** via Datadog and AWS CloudWatch → EventBridge → SNS  

---

## Architecture Diagram

![CI/CD + Multi-Region DR on Amazon EKS](https://drive.google.com/file/d/1bq-YK6e4ZQu8nNMtEBJrH0FFcUUDmiyA)

---

## 1. CI/CD Pipeline

- **GitHub**: code & Terraform configs  
- **Jenkins**: build → test → deploy  
- **Terraform**: provisions VPC, EKS clusters, databases in both regions  

---

## 2. Kubernetes & Compute

- **Amazon EKS**: spans ≥2 AZs per region  
- **Auto Scaling Groups**: keeps enough worker nodes  
- **AWS Fargate**: serverless pods for bursts  

---

## 3. Networking & Traffic

- **VPC**: public + private subnets  
- **ALB & NLB**: balanced traffic at layer-7 and layer-4  
- **Route 53**: health-check DNS failover between regions  
- **CloudFront & S3**: global cache for static assets  

---

## 4. Data & Storage

- **RDS Multi-AZ**: primary + standby in each region  
- **Aurora Global DB**: cross-region read replicas  
- **DynamoDB Global Tables**: multi-region NoSQL  
- **S3**: durable object storage with cross-region replication  

---

## 5. Monitoring & Alerts

- **Datadog**: app logs & metrics across regions  
- **CloudWatch**: AWS infra metrics & logs  
- **EventBridge → SNS**: routes alarms to email/SMS  

---

## 6. Security & Access

- **MFA & STS**: multi-factor and short-lived tokens  
- **IAM Access Analyzer**: detects wide permissions  
- **WAF & Shield**: blocks web attacks and DDoS  

---

## 7. Disaster Recovery

- **Active/Passive Regions**: primary serves traffic; secondary stands by  
- **Route 53 Failover**: automatic DNS switch on primary failure  
- **Immutable Infra**: Terraform code can rebuild anywhere  

---